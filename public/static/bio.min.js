function bgColor(t,e,a){$(t).css("background-color",e?e.toHexString():""),a.val(e.toHexString())}function Color(t,e,a){$(t).css("color",e?e.toHexString():""),a.val(e.toHexString())}function borderColor(t,e,a){$(t).css("border-top-color",e?e.toHexString():""),a.val(e.toHexString())}function gradient(t,e,a){a.val(e.toHexString());let i=$("#bgst").val(),l=$("#bgsp").val();$(t).attr("style","background:linear-gradient(0deg, "+i+" 0%, "+l+" 100%);")}function changeTheme(t,e,a,i,l,o){$("#preview .card").css("background-color",t),$("#bg").val(t),$("#preview .btn-custom").css("background-color",i),$("#buttoncolor").val(i),$("#preview .btn-custom").css("color",l),$("#buttontextcolor").val(l),$("#preview, #preview h3 > span, #preview p").css("color",o),$("#textcolor").val(o),$("#preview .card").attr("style","background:linear-gradient(0deg, "+e+" 0%, "+a+" 100%);"),$("#bgst").val(e),$("#bgsp").val(a),$("#bg").spectrum({color:t,showInput:!0,preferredFormat:"hex",move:function(t){bgColor("#preview .card",t,$(this))},hide:function(t){bgColor("#preview .card",t,$(this))}}),$("#bgst").spectrum({color:e,showInput:!0,preferredFormat:"hex",move:function(t){gradient("#preview .card",t,$(this))},hide:function(t){gradient("#preview .card",t,$(this))}}),$("#bgsp").spectrum({color:a,showInput:!0,preferredFormat:"hex",move:function(t){gradient("#preview .card",t,$(this))},hide:function(t){gradient("#preview .card",t,$(this))}}),$("#buttontextcolor").spectrum({color:l,showInput:!0,preferredFormat:"hex",move:function(t){Color("#preview .btn-custom",t,$(this))},hide:function(t){Color("#preview .btn-custom",t,$(this))}}),$("#buttoncolor").spectrum({color:i,showInput:!0,allowEmpty:!0,preferredFormat:"hex",move:function(t){bgColor("#preview .btn-custom",t,$(this))},hide:function(t){bgColor("#preview .btn-custom",t,$(this))}}),$("#textcolor").spectrum({color:o,showInput:!0,preferredFormat:"hex",move:function(t){Color("#preview, #preview h3 > span, #preview p",t,$(this))},hide:function(t){Color("#preview, #preview h3 > span  #preview p",t,$(this))}})}function fntext(t,e=null,a=null){if(e)var i=e.text;else{let e=t.parent("#modal-text").find("textarea[name=content]");i=texteditor.getData();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let l='<div class="card p-2 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="text"><textarea id="'+a+'_editor" class="form-control p-2" name="data['+slug(a)+'][text]" placeholder="e.g. some description here">'+i+"</textarea></div></div></div></div>";$("#content").append('<div class="item"><p id="'+a+'">'+i+"</p></div>"),$("#linkcontent").append(l),CKEDITOR.replace(a+"_editor",{height:100})}function fnlink(t,e=null,a=null){if(e)var i=e.text,l=e.icon,o=e.style,n=e.link,s=e.color,r=e.bg;else{let e=t.parent("#modal-links").find("input[name=text]"),a=t.parent("#modal-links").find("input[name=icon]"),d=t.parent("#modal-links").find("select[name=style]"),c=t.parent("#modal-links").find("input[name=link]"),p=t.parent("#modal-links").find("input[name=color]"),u=t.parent("#modal-links").find("input[name=bg]");if(""==c)return c.after('<p class="alt-error text-danger mt-2">'+c.data("error")+"</p>"),!1;i=e.val(),n=c.val(),o=d.val(),l=a.val(),s=p.val(),r=u.val();c.val(""),e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let d='<div class="card p-2 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class=" id="'+a+'Container"><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.icon+'</label><input type="text" class="form-control p-2 icon" name="data['+slug(a)+'][icon]" value="'+l+'" placeholder="e.g. fab fa-twitter"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][text]" value="'+i+'" placeholder="e.g. My Site"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="link"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+n+'" placeholder="e.g. https://"></div></div></div><div class="row mt-2"><div class="col-md-4"><div class="form-group"><label class="form-label">'+biolang.color+'</label><br><input type="color" data-trigger="color" name="data['+slug(a)+'][color]" value="'+s+'" class="form-control p-2 color"></div></div><div class="col-md-4"><div class="form-group"><label class="form-label">'+biolang.bg+'</label><br><input type="color" data-trigger="color" name="data['+slug(a)+'][bg]" value="'+r+'" class="form-control p-2 bg"></div></div><div class="col-md-4"><div class="form-group"><label class="form-label">'+biolang.style+'</label><select name="data['+slug(a)+'][format]" class="form-select mb-2 p-2"><option value="rectangular" '+("rectangular"==o?"selected":"")+">"+biolang.rectangular+'</option><option value="rounded" '+("rounded"==o?"selected":"")+">"+biolang.rounded+"</option></select></div></div></div></div></div></div>";$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 btn-custom mb-2 p-2" style="background:'+r+"!important;color:"+s+";border-radius:"+("rounded"==o?"50px":"5px")+'!important">'+(""!=l?'<i class="'+l+' me-2"></i>':"")+i+"</a></div>"),$("#linkcontent").append(d),$("[data-id="+a+"] .color").spectrum({color:s,showInput:!0,preferredFormat:"hex",move:function(t){Color("#"+a,t,$(this))},hide:function(t){Color("#"+a,t,$(this))}}),$("[data-id="+a+"] .bg").spectrum({color:r,showInput:!0,preferredFormat:"hex",move:function(t){bgColor("#"+a,t,$(this))},hide:function(t){bgColor("#"+a,t,$(this))}}),$("[data-id="+a+"] select").change(function(){$("#"+a).parent(".item").html('<a href="#" id="'+a+'" class="btn w-100 btn-custom mb-2 p-2" style="background:'+$('[data-id="+did+"] .bg').val()+"!important;color:"+$('[data-id="+did+"] .color').val()+";border-radius:"+("rounded"==$(this).val()?"50px":"5px")+'!important">'+(""!=l?'<i class="'+l+' me-2"></i>':"")+" <span>"+i+"</span></a>")}),$(document).on("keyup","[data-id="+a+"] .text",function(){$("#"+a+" span").text($(this).val())}),$(document).on("blur","[data-id="+a+"] .icon",function(){$("#"+a).html((""!=$(this).val()?'<i class="'+$(this).val()+' me-2"></i>':"")+" <span>"+$("[data-id="+a+"] .text").val()+"</span>")})}function fnyoutube(t,e=null,a=null){let i=/http(?:s?):\/\/(?:www\.)?youtu(?:be\.com\/watch\?v=|\.be\/)([\w\-\_]*)(&(amp;)?‌​[\w\?‌​=]*)?/i;if(e)var l=e.link;else{let e=t.parent("#modal-youtube").find("input[name=link]");if(!i.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;l=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let o='<div class="card p-2 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="youtube"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+l+'" placeholder="e.g. https://"></div></div></div></div>',n=l.match(i);$("#content").append('<div class="item"><iframe id="'+a+'" class="rounded mb-2" src="https://www.youtube.com/embed/'+n[1]+'" width="100%" height="200"></iframe></div>'),$("#linkcontent").append(o)}function fnwhatsapp(t,e=null,a=null){if(e)var i=e.label,l=e.phone;else{let e=t.parent("#modal-whatsapp").find("input[name=phone]"),a=t.parent("#modal-whatsapp").find("input[name=label]");if(e.val().length<0)return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;i=a.val(),l=e.val();e.val(""),a.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let o='<div class="card p-2 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.phone+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="whatsapp"><input type="text" class="form-control p-2" name="data['+slug(a)+'][phone]" value="'+l+'" placeholder=""></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="text" class="form-control p-2" name="data['+slug(a)+'][label]" value="'+i+'" placeholder=""></div></div></div></div>';$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 btn-custom mb-2 p-2">'+i+"</a></div>"),$("#linkcontent").append(o)}function fnspotify(t,e=null,a=null){let i=/^https:\/\/open.spotify.com\/track\/([a-zA-Z0-9]+)(.*)$/i;if(e)var l=e.link;else{let e=t.parent("#modal-spotify").find("input[name=link]");if(!i.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;l=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let o='<div class="card p-2 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="spotify"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+l+'" placeholder="e.g. https://"></div></div></div></div>';$("#content").append('<div class="item"><iframe id="'+a+'" class="rounded mb-2" src="'+l.replace("/track/","/embed/track/")+'" width="100%" height="200"></iframe></div>'),$("#linkcontent").append(o)}function fnitunes(t,e=null,a=null){let i=/^https:\/\/music.apple.com\/(.*)/i;if(e)var l=e.link;else{let e=t.parent("#modal-itunes").find("input[name=link]");if(!i.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;l=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let o='<div class="card p-2 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="itunes"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+l+'" placeholder="e.g. https://"></div></div></div></div>';$("#content").append('<div class="item"><iframe id="'+a+'" class="rounded mb-2" src="'+l.replace("music.apple","embed.music.apple")+'" width="100%" height="200"></iframe></div>'),$("#linkcontent").append(o)}function fnpaypal(t,e=null,a=null){if(e)var i=e.label,l=e.email,o=e.amount,n=e.currency;else{let e=t.parent("#modal-paypal").find("input[name=label]"),a=t.parent("#modal-paypal").find("input[name=email]"),s=t.parent("#modal-paypal").find("input[name=amount]"),r=t.parent("#modal-paypal").find("select[name=currency]");i=e.val(),l=a.val(),o=s.val(),n=r.val();e.val(""),a.val(""),s.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let s='<div class="card p-2 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class=" id="'+a+'Container"><div class="row mt-2><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="hidden" name="data['+slug(i)+'][type]" value="paypal"><input type="text" class="form-control p-2" name="data['+slug(i)+'][label]" value="'+i+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.email+'</label><input type="text" class="form-control p-2" name="data['+slug(i)+'][email]" value="'+l+'"></div></div></div><div class="row mt-2><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.amount+'</label><input type="text" class="form-control p-2" name="data['+slug(i)+'][amount]" value="'+o+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.currency+'</label><input type="text" class="form-control p-2" name="data['+slug(i)+'][currency]" value="'+n+'"></div></div></div></div></div>';$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 btn-custom mb-2 p-2">'+i+"</a></div>"),$("#linkcontent").append(s)}function fntiktok(t,e=null,a=null){let i=/^https?:\/\/(?:www|m)\.(?:tiktok.com)\/(.*)\/video\/(.*)/i;if(e)var l=e.link;else{let e=t.parent("#modal-tiktok").find("input[name=link]");if(!i.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;l=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let o='<div class="card p-2 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="tiktok"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+l+'" placeholder="e.g. https://"></div></div></div></div>',n=l.match(i);$("#content").append('<div class="item"><div id="'+a+'"><blockquote class="tiktok-embed rounded" cite="'+l+'" data-video-id="'+n[2]+'" style="max-width: 605px;min-width: 325px;" > <section> </section> </blockquote> <script async src="https://www.tiktok.com/embed.js"></script></div></div>'),$("#linkcontent").append(o)}function fnheading(t,e=null,a=null){if(e)var i=e.text,l=e.format,o=e.color;else{let e=t.parent("#modal-heading").find("input[name=text]"),a=t.parent("#modal-heading").find("select[name=type]"),n=t.parent("#modal-heading").find("input[name=color]");i=e.val(),l=a.val(),o=n.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let n='<div class="card p-2 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.style+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="heading"><select name="data['+slug(a)+'][format]" class="form-select mb-2 p-2"><option value="h1" '+("h1"==l?"selected":"")+'>H1</option><option value="h2" '+("h2"==l?"selected":"")+'>H2</option><option value="h3" '+("h3"==l?"selected":"")+'>H3</option><option value="h4" '+("h4"==l?"selected":"")+'>H4</option><option value="h5" '+("h5"==l?"selected":"")+'>H5</option><option value="h6" '+("h6"==l?"selected":"")+'>H6</option></select></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="heading"><input type="text" class="form-control p-2" name="data['+slug(a)+'][text]" placeholder="e.g. Bio Page" value="'+i+'"></div></div><div class="col-md-4"><div class="form-group"><label class="form-label">'+biolang.color+'</label><br><input type="color" data-trigger="color" name="data['+slug(a)+'][color]" value="'+o+'" class="form-control p-2"></div></div></div></div>';$("#content").append('<div class="item"><'+l+' id="'+a+'" style="color:'+o+' !important">'+i+"</"+l+"></div>"),$("#linkcontent").append(n),$("[data-id="+a+"] [data-trigger=color]").spectrum({color:o,showInput:!0,preferredFormat:"hex",move:function(t){Color("#"+a,t,$(this))},hide:function(t){Color("#"+a,t,$(this))}}),$("[data-id="+a+"] select").change(function(){$("#"+a).parent(".item").html("<"+$(this).val()+' id="'+a+'" style="color:'+$("[data-id="+a+"] input[type=color]").val()+' !important">'+i+"</"+$(this).val()+">")}),$(document).on("keyup","[data-id="+a+"] input[type=text]",function(){$("#"+a).text($(this).val())})}function fndivider(t,e=null,a=null){if(e)var i=e.color,l=e.style,o=e.height;else{let e=t.parent("#modal-divider").find("input[name=color]"),a=t.parent("#modal-divider").find("select[name=type]"),n=t.parent("#modal-divider").find("select[name=height]");i=e.val(),l=a.val(),o=n.val();e.val("")}null===a&&(a=(Math.random()+1).toString(36).substring(2));let n='<div class="card p-2 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><input type="hidden" name="data['+slug(a)+'][type]" value="divider"><div class="col-md-4"><div class="form-group"><label class="form-label">'+biolang.color+'</label><br><input type="color" data-trigger="color" name="data['+slug(a)+'][color]" value="'+i+'" class="form-control p-2"><input type="hidden" name="data['+slug(a)+'][height]" value="'+o+'" class="form-control p-2"><input type="hidden" name="data['+slug(a)+'][style]" value="'+l+'" class="form-control p-2"></div></div></div></div></div>';$("#content").append('<div class="item"><hr id="'+a+'" style="background:transparent;border-top-style:'+l+";border-top-width:"+o+"px;border-top-color:"+i+';border-radius: 5px;"></div>'),$("#linkcontent").append(n),$("[data-id="+a+"] input[data-trigger=color]").spectrum({color:i,showInput:!0,preferredFormat:"hex",move:function(t){borderColor("#"+a,t,$(this))},hide:function(t){borderColor("#"+a,t,$(this))}})}function fnrss(t,e=null,a=null){let i=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i;if(e)var l=e.link;else{let e=t.parent("#modal-rss").find("input[name=link]");if(!i.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;l=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let o='<div class="card p-2 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="rss"><input type="link" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+l+'" placeholder="e.g. https://"></div></div></div></div>';$("#content").append('<div class="item"><div class="d-block bg-white rounded text-center w-100 mb-2 p-3" id="'+a+'">RSS</div></div>'),$("#linkcontent").append(o)}function fnimage(t,e=null,a=null){if(e)var i=e.link,l=e.image;else i="",l="";null==a&&(a=(Math.random()+1).toString(36).substring(2));let o='<div class="card p-2 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="text" name="data['+slug(a)+'][link]" class="form-control p-2" placeholder="e.g. https://" value="'+i+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.file+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="image"><input type="file" class="form-control p-2" name="'+slug(a)+'" data-for="'+a+'" accept=".jpg, .png" data-trigger="setpreview"></div></div></div></div>';$("#content").append('<div class="item"><div class="d-block rounded text-center w-100 mb-2" id="'+a+'">'+(""!=l?'<img src="'+appurl+"/content/profiles/"+l+'" class="img-fluid rounded">':"Image")+"</div></div>"),$("#linkcontent").append(o)}function fnnewsletter(t,e=null,a=null){if(e)var i=e.text;else{let e=t.parent("#modal-newsletter").find("input[name=text]");i=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let l='<div class="card p-2 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="newsletter"><input type="text" class="form-control p-2" name="data['+slug(a)+'][text]" value="'+i+'"></div></div></div></div>';$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 btn-custom mb-2 p-2">'+i+"</a></div>"),$("#linkcontent").append(l),$(document).on("keyup","[data-id="+a+"] input[type=text]",function(){$("#"+a).text($(this).val())})}function fncontact(t,e=null,a=null){if(e)var i=e.text,l=e.email;else{let e=t.parent("#modal-contact").find("input[name=text]"),a=t.parent("#modal-contact").find("input[name=email]");i=e.val(),l=a.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let o='<div class="card p-3 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][text]" value="'+i+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.email+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="contact"><input type="text" class="form-control p-2" name="data['+slug(a)+'][email]" value="'+l+'"></div></div></div></div>';$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 btn-custom mb-2 p-2">'+i+"</a></div>"),$("#linkcontent").append(o),$(document).on("keyup","[data-id="+a+"] .text",function(){$("#"+a).text($(this).val())})}function fnvcard(t,e=null,a=null){if(e)var i=e.fname,l=e.lname,o=e.phone,n=e.email,s=e.address,r=e.city,d=e.state,c=e.country,p=e.site;else{var u=t.parent("#modal-vcard").find("input[name=fname]"),m=t.parent("#modal-vcard").find("input[name=lname]"),f=t.parent("#modal-vcard").find("input[name=phone]"),v=t.parent("#modal-vcard").find("input[name=email]"),h=t.parent("#modal-vcard").find("input[name=address]"),g=t.parent("#modal-vcard").find("input[name=city]"),b=t.parent("#modal-vcard").find("input[name=state]"),y=t.parent("#modal-vcard").find("input[name=country]"),x=t.parent("#modal-vcard").find("input[name=site]");i=u.val();u.val("");l=m.val();m.val("");o=f.val();f.val("");n=v.val();v.val("");s=h.val();h.val("");r=g.val();g.val("");d=b.val();b.val("");c=y.val();y.val("");p=x.val();x.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let w='<div class="card p-3 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.fname+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][fname]" value="'+i+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.lname+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="vcard"><input type="text" class="form-control p-2" name="data['+slug(a)+'][lname]" value="'+l+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.email+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][email]" value="'+n+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.phone+'</label><input type="text" class="form-control p-2" name="data['+slug(a)+'][phone]" value="'+o+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.site+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][site]" value="'+p+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.address+'</label><input type="text" class="form-control p-2" name="data['+slug(a)+'][address]" value="'+s+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.city+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][city]" value="'+r+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.state+'</label><input type="text" class="form-control p-2" name="data['+slug(a)+'][state]" value="'+d+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.country+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][country]" value="'+c+'"></div></div></div></div>';$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 btn-custom mb-2 p-2">vCard</a></div>'),$("#linkcontent").append(w)}function fnproduct(t,e=null,a=null){if(e)var i=e.name,l=e.description,o=e.amount,n=e.link;else i="",l="",o="",n="";null==a&&(a=(Math.random()+1).toString(36).substring(2));let s='<div class="card p-3 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12 mb-2"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][name]" value="'+i+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.description+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="product"><input type="text" class="form-control p-2" name="data['+slug(a)+'][description]" placeholder="e.g. $9.99"  value="'+l+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.amount+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="product"><input type="text" class="form-control p-2" name="data['+slug(a)+'][amount]" placeholder="e.g. $9.99"  value="'+o+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.file+'</label><input type="file" class="form-control p-2 text" name="'+slug(a)+'" accept=".jpg, .png" value=""></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+n+'" placeholder="http://"></div></div></div></div>';$("#content").append('<div class="item mb-2" id="'+a+'"><div class="d-flex border border-dark p-1 rounded"><div class="p-5 bg-dark rounded me-2"></div><div class="text-start"><h3>'+i+"</h3><strong>"+o+"</strong><br><p>"+l+"</p></div></div>"),$("#linkcontent").append(s)}function fnhtml(t,e=null,a=null){if(e)var i=e.html;else{let e=t.parent("#modal-html").find("textarea[name=code]");i=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let l='<div class="card p-2 shadow-none border position-relative sortable" data-id="'+a+'"><a class="position-absolute top-0 end-0 me-2" data-trigger="removeCard" href=""><i class="fa fa-times-circle"></i></a><h5><i class="fa fa-align-justify handle me-2"></i> <a href="#'+a+'Container">'+t.parent(".collapse").data("name")+'</a></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12"><div class="form-group"><label class="form-label">HTML</label><input type="hidden" name="data['+slug(a)+'][type]" value="html"><textarea class="form-control p-2" name="data['+slug(a)+'][html]" placeholder="e.g. some description here">'+i+"</textarea></div></div></div></div>";$("#content").append('<div class="item"><div id="'+a+'">'+i+"</div></div>"),$("#linkcontent").append(l)}function bioupdate(){for(bio in biodata){let t="fn"+biodata[bio].type;window[t]($("[data-type="+biodata[bio].type+"]"),biodata[bio],bio)}}function slug(t){t=encodeURIComponent(t),t=t.replace(/^\s+|\s+$/g,""),t=t.toLowerCase();for(var e="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",a="aaaaeeeeiiiioooouuuunc------",i=0,l=e.length;i<l;i++)t=t.replace(new RegExp(e.charAt(i),"g"),a.charAt(i));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),t}!function(t,e,a,i){function l(t,e){
var a=Math.max(0,t[0]-e[0],e[0]-t[1]),i=Math.max(0,t[2]-e[1],e[1]-t[3]);return a+i}function o(e,a,i,l){var o=e.length,n=l?"offset":"position";for(i=i||0;o--;){var s=e[o].el?e[o].el:t(e[o]),r=s[n]();r.left+=parseInt(s.css("margin-left"),10),r.top+=parseInt(s.css("margin-top"),10),a[o]=[r.left-i,r.left+s.outerWidth()+i,r.top-i,r.top+s.outerHeight()+i]}}function n(t,e){var a=e.offset();return{left:t.left-a.left,top:t.top-a.top}}function s(t,e,a){e=[e.left,e.top],a=a&&[a.left,a.top];for(var i,o=t.length,n=[];o--;)i=t[o],n[o]=[o,l(i,e),a&&l(i,a)];return n=n.sort(function(t,e){return e[1]-t[1]||e[2]-t[2]||e[0]-t[0]}),n}function r(e){this.options=t.extend({},p,e),this.containers=[],this.options.rootGroup||(this.scrollProxy=t.proxy(this.scroll,this),this.dragProxy=t.proxy(this.drag,this),this.dropProxy=t.proxy(this.drop,this),this.placeholder=t(this.options.placeholder),e.isValidTarget||(this.options.isValidTarget=i))}function d(e,a){this.el=e,this.options=t.extend({},c,a),this.group=r.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var i=this.rootGroup.options.itemPath;this.target=i?this.el.find(i):this.el,this.target.on(v.start,this.handle,t.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var c={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},p={afterMove:function(t,e,a){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"dragging",draggedClass:"dragged",isValidTarget:function(t,e){return!0},onCancel:function(t,e,a,i){},onDrag:function(t,e,a,i){t.css(e)},onDragStart:function(e,a,i,l){e.css({height:e.outerHeight(),width:e.outerWidth()}),e.addClass(a.group.options.draggedClass),t("body").addClass(a.group.options.bodyClass)},onDrop:function(e,a,i,l){e.removeClass(a.group.options.draggedClass).removeAttr("style"),t("body").removeClass(a.group.options.bodyClass)},onMousedown:function(t,e,a){if(!a.target.nodeName.match(/^(input|select|textarea)$/i))return a.preventDefault(),!0},placeholderClass:"placeholder",placeholder:'<li class="placeholder"></li>',pullPlaceholder:!0,serialize:function(e,a,i){var l=t.extend({},e.data());return i?[a]:(a[0]&&(l.children=a),delete l.subContainers,delete l.sortable,l)},tolerance:0},u={},m=0,f={left:0,top:0,bottom:0,right:0},v={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},h="subContainers";r.get=function(t){return u[t.group]||(t.group===i&&(t.group=m++),u[t.group]=new r(t)),u[t.group]},r.prototype={dragInit:function(e,a){this.$document=t(a.el[0].ownerDocument);var i=t(e.target).closest(this.options.itemSelector);if(i.length){if(this.item=i,this.itemContainer=a,this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,p.onMousedown,e))return;this.setPointer(e),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0}},drag:function(t){if(!this.dragging){if(!this.distanceMet(t)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,p.onDragStart,t),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(t),this.options.onDrag(this.item,n(this.pointer,this.item.offsetParent()),p.onDrag,t);var e=this.getPointer(t),a=this.sameResultBox,l=this.options.tolerance;(!a||a.top-l>e.top||a.bottom+l<e.top||a.left-l>e.left||a.right+l<e.left)&&(this.searchValidTarget()||(this.placeholder.detach(),this.lastAppendedItem=i))},drop:function(t){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,p.onCancel,t),this.options.onDrop(this.item,this.getContainer(this.item),p.onDrop,t),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=i,this.dragging=!1)},searchValidTarget:function(t,e){t||(t=this.relativePointer||this.pointer,e=this.lastRelativePointer||this.lastPointer);for(var a=s(this.getContainerDimensions(),t,e),l=a.length;l--;){var o=a[l][0],r=a[l][1];if(!r||this.options.pullPlaceholder){var d=this.containers[o];if(!d.disabled){if(!this.$getOffsetParent()){var c=d.getItemOffsetParent();t=n(t,c),e=n(e,c)}if(d.searchValidTarget(t,e))return!0}}}this.sameResultBox&&(this.sameResultBox=i)},movePlaceholder:function(t,e,a,i){var l=this.lastAppendedItem;!i&&l&&l[0]===e[0]||(e[a](this.placeholder),this.lastAppendedItem=e,this.sameResultBox=i,this.options.afterMove(this.placeholder,t,e))},getContainerDimensions:function(){return this.containerDimensions||o(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(t){return t.closest(this.options.containerSelector).data(a)},$getOffsetParent:function(){if(this.offsetParent===i){var t=this.containers.length-1,e=this.containers[t].getItemOffsetParent();if(!this.options.rootGroup)for(;t--;)if(e[0]!=this.containers[t].getItemOffsetParent()[0]){e=!1;break}this.offsetParent=e}return this.offsetParent},setPointer:function(t){var e=this.getPointer(t);if(this.$getOffsetParent()){var a=n(e,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=a}this.lastPointer=this.pointer,this.pointer=e},distanceMet:function(t){var e=this.getPointer(t);return Math.max(Math.abs(this.pointer.left-e.left),Math.abs(this.pointer.top-e.top))>=this.options.distance},getPointer:function(t){var e=t.originalEvent||t.originalEvent.touches&&t.originalEvent.touches[0];return{left:t.pageX||e.pageX,top:t.pageY||e.pageY}},setupDelayTimer:function(){var t=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){t.delayMet=!0},this.options.delay))},scroll:function(t){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(e){var a=this,i=["drag","drop","scroll"];t.each(i,function(t,i){a.$document[e](v[i],a[i+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=i},clearDimensions:function(){this.traverse(function(t){t._clearDimensions()})},traverse:function(t){t(this);for(var e=this.containers.length;e--;)this.containers[e].traverse(t)},_clearDimensions:function(){this.containerDimensions=i},_destroy:function(){u[this.options.group]=i}},d.prototype={dragInit:function(t){var e=this.rootGroup;!this.disabled&&!e.dragInitDone&&this.options.drag&&this.isValidDrag(t)&&e.dragInit(t,this)},isValidDrag:function(t){return 1==t.which||"touchstart"==t.type&&1==t.originalEvent.touches.length},searchValidTarget:function(t,e){var a=s(this.getItemDimensions(),t,e),i=a.length,l=this.rootGroup,o=!l.options.isValidTarget||l.options.isValidTarget(l.item,this);if(!i&&o)return l.movePlaceholder(this,this.target,"append"),!0;for(;i--;){var n=a[i][0],r=a[i][1];if(!r&&this.hasChildGroup(n)){var d=this.getContainerGroup(n).searchValidTarget(t,e);if(d)return!0}else if(o)return this.movePlaceholder(n,t),!0}},movePlaceholder:function(e,a){var i=t(this.items[e]),l=this.itemDimensions[e],o="after",n=i.outerWidth(),s=i.outerHeight(),r=i.offset(),d={left:r.left,right:r.left+n,top:r.top,bottom:r.top+s};if(this.options.vertical){var c=(l[2]+l[3])/2,p=a.top<=c;p?(o="before",d.bottom-=s/2):d.top+=s/2}else{var u=(l[0]+l[1])/2,m=a.left<=u;m?(o="before",d.right-=n/2):d.left+=n/2}this.hasChildGroup(e)&&(d=f),this.rootGroup.movePlaceholder(this,i,o,d)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get(),o(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var t,e=this.el;return t="relative"===e.css("position")||"absolute"===e.css("position")||"fixed"===e.css("position")?e:e.offsetParent(),t},hasChildGroup:function(t){return this.options.nested&&this.getContainerGroup(t)},getContainerGroup:function(e){var l=t.data(this.items[e],h);if(l===i){var o=this.$getChildren(this.items[e],"container");if(l=!1,o[0]){var n=t.extend({},this.options,{rootGroup:this.rootGroup,group:m++});l=o[a](n).data(a).group}t.data(this.items[e],h,l)}return l},$getChildren:function(e,a){var i=this.rootGroup.options,l=i[a+"Path"],o=i[a+"Selector"];return e=t(e),l&&(e=e.find(l)),e.children(o)},_serialize:function(e,a){var i=this,l=a?"item":"container",o=this.$getChildren(e,l).not(this.options.exclude).map(function(){return i._serialize(t(this),!a)}).get();return this.rootGroup.options.serialize(e,o,a)},traverse:function(e){t.each(this.items||[],function(a){var i=t.data(this,h);i&&i.traverse(e)}),e(this)},_clearDimensions:function(){this.itemDimensions=i},_destroy:function(){var e=this;this.target.off(v.start,this.handle),this.el.removeData(a),this.options.drop&&(this.group.containers=t.grep(this.group.containers,function(t){return t!=e})),t.each(this.items||[],function(){t.removeData(this,h)})}};var g={enable:function(){this.traverse(function(t){t.disabled=!1})},disable:function(){this.traverse(function(t){t.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(t){t._clearDimensions()})},destroy:function(){this.traverse(function(t){t._destroy()})}};t.extend(d.prototype,g),t.fn[a]=function(e){var l=Array.prototype.slice.call(arguments,1);return this.map(function(){var o=t(this),n=o.data(a);return n&&g[e]?g[e].apply(n,l)||this:(n||e!==i&&"object"!=typeof e||o.data(a,new d(o,e)),this)})}}(jQuery,window,"sortable"),$(document).ready(function(){$("#linkcontent").sortable({containerSelector:"#linkcontent",handle:".handle",itemSelector:".sortable",placeholder:'<div class="card p-4 bg-secondary shadow-none border"></div>',onMousedown:function(t,e,a){if(!a.target.nodeName.match(/^(input|select|textarea)$/i))return a.preventDefault(),before=t.index(),!0},onDrop:function(t,e,a,i){t.removeClass(e.group.options.draggedClass).removeAttr("style"),$("body").removeClass(e.group.options.bodyClass),after=t.index(),lafter=$("#preview #content .item:eq("+after+")"),lebefore=$("#preview #content .item:eq("+before+")"),lafter.replaceWith(lebefore),before>after?lebefore.after(lafter):lebefore.before(lafter)}}),$("[data-trigger=insertcontent]").click(function(t){t.preventDefault();let e="fn"+$(this).data("type");if($(".alt-error").remove(),void 0!==e){let t=window[e]($(this));if(!1===t)return;$("#contentModal div").removeClass("show"),$("#options").addClass("show"),$("#contentModal .btn-close").click()}}),$(document).on("click","[data-trigger=removeCard]",function(t){t.preventDefault();let e=$(this).parent(".card").data("id");$(this).parent(".card").remove(),$("#preview").find("#"+e).remove()}),changeTheme("#fffff","#fffff","#fffff","#000000","#ffffff","#0000000"),$("#dividercolor").spectrum({color:"#fff",showInput:!0,preferredFormat:"hex"}),$("[data-trigger=changeTheme]").click(function(t){t.preventDefault()}),$("input[name=name]").keyup(function(){let t=$(this).val();$("#preview h3 > span").text(t)}),$("#avatar").change(function(){for(var t,e=$(this).prop("files"),a=0;t=e[a];a++)if(t.type.match("image.*")){var i=new FileReader;i.onload=function(t){$("#useravatar, #preview #userimage").attr("src",t.target.result)},i.readAsDataURL(t)}}),$("#avatarenabled").change(function(){$("#preview #userimage").toggle()}),$("#bgimage").change(function(){for(var t,e=$(this).prop("files"),a=0;t=e[a];a++)if(t.type.match("image.*")){var i=new FileReader;i.onload=function(t){$("#preview .card").attr("style","background-image:url("+t.target.result+");background-size:cover;")},i.readAsDataURL(t)}}),$(document).on("change","[data-trigger=setpreview]",function(){for(var t,e=$(this).prop("files"),a=$(this).data("for"),i=0;t=e[i];i++)if(t.type.match("image.*")){var l=new FileReader;l.onload=function(t){$("#preview").find("#"+a).html('<img src="'+t.target.result+'" class="img-fluid rounded">')},l.readAsDataURL(t)}}),$("form").submit(function(t){t.preventDefault();let e=$(this).attr("action"),a=!0;if($(".form-control").removeClass("is-invalid"),$(this).find("[required]").each(function(){let t=$(this).attr("min")?$(this).attr("min"):3;$(this).val().length<t&&(a=!1,$(this).addClass("is-invalid"),$(this).data("error")&&$.notify({message:$(this).data("error")},{type:"danger",placement:{from:"bottom",align:"right"}}))}),0==a)return!1;let i=new FormData($(this)[0]);$.ajax({type:"POST",url:e,data:i,contentType:!1,processData:!1,dataType:"json",beforeSend:function(){$("body").append('<div class="preloader"><div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div></div>')},complete:function(){$(".preloader").remove()},success:function(t){$("input[name=_token]").val(t.token),t.error?$.notify({message:t.message},{type:"danger",placement:{from:"top",align:"right"}}):($.notify({message:t.message},{type:"success",placement:{from:"top",align:"right"}}),t.html&&$("body").append(t.html),$(this).find("input,textarea,select").val(""))}})})}),$("[data-trigger=color]").spectrum({color:bg,showInput:!0,preferredFormat:"hex"});